<div>
        <a href="./index.html" class="view">Add Record</a>
    </div>
<table id="table" border="" width="500px" >
    <thead>
        <th>Title</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
        <th>Action</th>
    </thead>
    <tbody>

    </tbody>
    <tfoot>
        <tr>
            <th  colspan="3">Net Total</th>
            <th align="left" colspan="2" id="netTotal"></th>
        </tr>
    </tfoot>
</table>

<script>
    let show = document.querySelector('#table tbody');
    let cart = JSON.parse(localStorage.getItem('cartData')) || [];
    const showTotal = document.querySelector('#netTotal');
    let renderList=()=>{
        show.innerHTML = '';
        let netTotal=0;

        cart.map((item,index)=>{
            let  total = item.quantity * item.price;
            netTotal += total;
            let tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${item.name}</td>
                <td>
                    <button onclick="decrement(${index})">-</button>
                    ${item.quantity}
                    <button onclick="increment(${index})">+</button>
                </td>
                <td>${item.price}</td>
                <td>${total.toFixed(2)}</td>
                <td>
                    <button onclick="removeData(${index})">Remove</button>
                </td>                
            `
            show.appendChild(tr);
        })
        showTotal.textContent = netTotal.toFixed(2);
    }

    renderList();

    let removeData=(index)=>{
        cart.splice(index,1);
        localStorage.setItem('cartData',JSON.stringify(cart));
        renderList();
    }

    let decrement=(index)=>{
        if(cart[index].quantity > 1){
        cart[index].quantity -= 1;
        localStorage.setItem('cartData',JSON.stringify(cart));
        }
        else
        {
            removeData(index);
        }
        renderList();
    }

    let increment=(index)=>{
        cart[index].quantity += 1;
        localStorage.setItem('cartData',JSON.stringify(cart));
        renderList();
    }

</script>